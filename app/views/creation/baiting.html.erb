<div data-role="page">
  <div data-role="header">
    <h2>Create child plate form <%=@creation_form.parent.name %></h2>
  </div>

  <div data-role="content">

    <h2>Baited Plate Preview</h2>

    <div class="ui-grid-a">
      <div class="ui-block-a">
        <%= render :partial => "plates/plate", :locals => {:plate_presenter => @creation_form}  %>
        <p><i>Hover on wells for bait information</i></p>
        <br/>
        <%= semantic_form_for(@creation_form, :as => :plate, :url => plate_children_path(@creation_form.parent), :html => {:method => :post}) do |f| %>
          <%= f.inputs do %>
            <%= f.input :plate_purpose_uuid, :as => :hidden, :value =>@creation_form.plate_purpose_uuid %>
            <%= f.input :parent_uuid, :as => :hidden, :value => @creation_form.parent_uuid %>
          <% end %>
          <%= f.buttons do %>

            <%= f.commit_button 'Create Plate' %>
          <% end %>
        <% end %>
      </div>
      <%- @creation_form.wells.each do |well| -%>

        <div id="aliquot_<%= well.location %>_bait_info" class="ui-block-b" style="display:none;">
          <div class=" ui-bar ui-bar-d"><%= well.bait %></div>
      </div>

      <%- end -%>
    </div>
  </div>
</div>

<script type="text/javascript" charset="utf-8">

  $(function() {
    function info_el(el){
      var info_id = '#' + $(el).attr('id') + '_bait_info';
      return $(info_id);
    }
    $('.aliquot').hover(
      function showBaitInfo() {
        info_el(this).show();
      },

      function hideBaitInfo() {
        info_el(this).hide();
      }
    );

  });
</script>
