<%= page(:'custom-pooling-page') do %>
  <%= header(@creation_form, 'Custom pooling') %>

  <%= content do %>
    <h2>Source Plate</h2>
    <%= semantic_form_for(
      @creation_form,
      :url => pulldown_plate_children_path(@creation_form.parent),
      :as => :plate,
      :html => {:method => :post}) do |form|
    %>

      <%= form.inputs do %>
        <%= form.input :plate_purpose_uuid, :as => :hidden, :value =>@creation_form.plate_purpose_uuid %>
        <%= form.input :parent_uuid, :as => :hidden, :value => @creation_form.parent_uuid %>
      <% end %>
      <%= render :partial => "pooled_plate", :locals => {:plate_presenter => @creation_form, :form => form} %>

      <h2>Destination Plate</h2>
      <%= render :partial => "plates/plate", :locals => {:plate_presenter => @creation_form, :id => "destination_plate"} %>
      <br/>
      <%= form.submit "Create New Plate" %>
    <% end %>
  <% end %>
<% end %>


<script type="text/javascript">
  var coloursByLocation = <%= colours_by_location.to_json.html_safe %>;
</script>
